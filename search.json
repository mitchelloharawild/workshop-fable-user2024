[
  {
    "objectID": "slides/accuracy/index.html#section",
    "href": "slides/accuracy/index.html#section",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Tidy time series analysis and forecasting\n\n\nAccuracy evaluation\n\n\n10th June 2024 @ UseR! 2024\n\nMitchell O‚ÄôHara-Wild, Nectric\n\n\n\n\n\n\n\nUseful links\n\n\n social.mitchelloharawild.com\n workshop.nectric.com.au/user2024/\n mitchelloharawild/workshop-fable-user2024"
  },
  {
    "objectID": "slides/accuracy/index.html#section-1",
    "href": "slides/accuracy/index.html#section-1",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Evaluating models\n\n\n\n\n\n\nInspecting model errors\n\n\nAccurate models have small errors.\nGood models capture all patterns in the data.\nModel errors contain patterns not captured by the model!\n\n\n\n\n\nlibrary(fpp3)\nvic_tourism &lt;- tourism |&gt; \n  filter(State == \"Victoria\") |&gt; \n  summarise(Trips = sum(Trips))\nfit &lt;- vic_tourism |&gt; \n  model(\n    ETS(Trips), \n    ARIMA(log(Trips))\n  )\naugment(fit)"
  },
  {
    "objectID": "slides/accuracy/index.html#section-2",
    "href": "slides/accuracy/index.html#section-2",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Evaluating models\n\n\n# A tsibble: 160 x 6 [1Q]\n# Key:       .model [2]\n   .model     Quarter Trips .fitted .resid   .innov\n   &lt;chr&gt;        &lt;qtr&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;\n 1 ETS(Trips) 1998 Q1 6010.   5457.  554.   0.101  \n 2 ETS(Trips) 1998 Q2 4795.   4824.  -28.6 -0.00594\n 3 ETS(Trips) 1998 Q3 4317.   4370.  -52.8 -0.0121 \n 4 ETS(Trips) 1998 Q4 4675.   4841. -167.  -0.0344 \n 5 ETS(Trips) 1999 Q1 5304.   5599. -295.  -0.0526 \n 6 ETS(Trips) 1999 Q2 4562.   4545.   16.8  0.00369\n 7 ETS(Trips) 1999 Q3 3784.   4139. -356.  -0.0859 \n 8 ETS(Trips) 1999 Q4 4201.   4395. -194.  -0.0441 \n 9 ETS(Trips) 2000 Q1 5567.   5055.  512.   0.101  \n10 ETS(Trips) 2000 Q2 4502.   4468.   33.8  0.00757\n# ‚Ñπ 150 more rows\n\n\n\n\n\n\n\n\nFitted values and residuals\n\n\n\n\\(\\hat{y}_t\\): 1-step in-sample fits (forecasts) are in .fitted\n\\(e_t\\): response (actual) errors are in .resid\n\\(\\varepsilon_t\\): innovation (model) errors are in .innov"
  },
  {
    "objectID": "slides/accuracy/index.html#section-3",
    "href": "slides/accuracy/index.html#section-3",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Plotting in-sample fits\n\nvic_tourism |&gt; \n  autoplot(Trips) + \n  autolayer(augment(fit), .fitted)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFitted values and response residuals\n\n\nThe response residuals are the difference between actual and predicted values: \\(e_t = y_t - \\hat{y}_t\\)."
  },
  {
    "objectID": "slides/accuracy/index.html#section-4",
    "href": "slides/accuracy/index.html#section-4",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Summarising model accuracy\nResponse residuals are often used to calculate accuracy ‚Äòmeasures‚Äô.\nCommon accuracy measures can be calculated with accuracy().\n\naccuracy(fit)\n\n# A tibble: 2 √ó 10\n  .model            .type       ME  RMSE   MAE   MPE  MAPE  MASE RMSSE    ACF1\n  &lt;chr&gt;             &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;\n1 ETS(Trips)        Training  45.0  247.  194. 0.611  3.98 0.712 0.697  0.0259\n2 ARIMA(log(Trips)) Training  57.8  243.  193. 1.02   3.99 0.705 0.685 -0.0253"
  },
  {
    "objectID": "slides/accuracy/index.html#section-5",
    "href": "slides/accuracy/index.html#section-5",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Summarising model accuracy\nThese point forecast accuracy measures are:\n\nME: Mean error (indicates bias)\nRMSE: Root mean squared error\n(forecast mean accuracy)\nMAE: Mean absolute error\n(forecast median accuracy)\nMPE/MAPE: Percentage errors (problematic, instead use‚Ä¶)\nMASE: Mean absolute scaled error\n(scaled median accuracy)"
  },
  {
    "objectID": "slides/accuracy/index.html#section-6",
    "href": "slides/accuracy/index.html#section-6",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Summarising model accuracy\n\n\n\n\n\n\nExercise 10\n\n\nEvaluate ETS and ARIMA forecast accuracy for total Takings of Australian tourist accommodation (aus_accommodation_total)."
  },
  {
    "objectID": "slides/accuracy/index.html#section-7",
    "href": "slides/accuracy/index.html#section-7",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Forecasting accuracy\nEvaluating out-of-sample forecasts gives more realistic forecast accuracy results.\nFor this, we create a training dataset which withholds data for evaluating accuracy.\nThen, we produce forecasts from the model that overlap with the withheld ‚Äòtest‚Äô data.\n\n\nfc &lt;- vic_tourism |&gt; \n  # Keep some data for evaluating forecasts\n  filter(Quarter &lt; yearquarter(\"2016 Q1\")) |&gt; \n  model(\n    ETS(Trips), \n    ARIMA(log(Trips))\n  ) |&gt; \n  forecast(h = \"2 years\")"
  },
  {
    "objectID": "slides/accuracy/index.html#section-11",
    "href": "slides/accuracy/index.html#section-11",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Forecasting accuracy\nThen we can again use accuracy() with our forecasts:\n\naccuracy(fc, vic_tourism)\n\n# A tibble: 2 √ó 10\n  .model            .type    ME  RMSE   MAE   MPE  MAPE  MASE RMSSE  ACF1\n  &lt;chr&gt;             &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 ARIMA(log(Trips)) Test   604.  756.  626.  9.47  9.88  2.53  2.31 0.438\n2 ETS(Trips)        Test   571.  725.  596.  8.94  9.43  2.41  2.22 0.432\n\n\n\n\n\n\n\n\nInclude the data\n\n\nUnlike model accuracy, forecasts don‚Äôt know what the actual values are.\nYou need to pass in the full dataset to accuracy().\ni.e.¬†accuracy(&lt;forecasts&gt;, &lt;full_data&gt;)."
  },
  {
    "objectID": "slides/accuracy/index.html#section-12",
    "href": "slides/accuracy/index.html#section-12",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Forecasting accuracy\n\n\n\n\n\n\nExercise 11\n\n\nEvaluate ETS and ARIMA forecast accuracy for total Takings of Australian tourist accommodation (aus_accommodation_total).\n\nWithhold 4 years of data for forecast evaluation,\nEstimate ETS and ARIMA models on the filtered data,\nProduce forecasts for the 4 years of withheld data,\nEvaluate forecast accuracy using accuracy().\n\nWhich model is more accurate for forecasting?\nDoes this differ from the in-sample model accuracy?"
  },
  {
    "objectID": "slides/accuracy/index.html#section-13",
    "href": "slides/accuracy/index.html#section-13",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Forecasting accuracy\n\n\n\n\n\n\nSmall sample problems!\n\n\nTest sets in time series can be problematic.\nHere we‚Äôre judging the best model based on just the most recent 2 years of data."
  },
  {
    "objectID": "slides/accuracy/index.html#section-14",
    "href": "slides/accuracy/index.html#section-14",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Cross-validation accuracy\nTo overcome this, we can use time-series cross-validation.\nThis creates many training sets from which we produce many forecasts from different starting points."
  },
  {
    "objectID": "slides/accuracy/index.html#section-15",
    "href": "slides/accuracy/index.html#section-15",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Cross-validation accuracy\nThe stretch_tsibble() function can be added after filter() to create time-series cross-validation folds of data.\n\n\nfc_cv &lt;- vic_tourism |&gt; \n  # Keep some data for evaluating forecasts\n  filter(Quarter &lt; yearquarter(\"2016 Q1\")) |&gt; \n  # Cross-validate the remaining data\n  stretch_tsibble(.step = 4*2, .init = 4*10) |&gt; \n  model(\n    ETS(Trips), \n    ARIMA(log(Trips))\n  ) |&gt; \n  forecast(h = \"2 years\")"
  },
  {
    "objectID": "slides/accuracy/index.html#section-19",
    "href": "slides/accuracy/index.html#section-19",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Cross-validation accuracy\nOnce more, we again use accuracy() with our forecasts:\n\naccuracy(fc_cv, vic_tourism)\n\n# A tibble: 2 √ó 10\n  .model            .type    ME  RMSE   MAE   MPE  MAPE  MASE RMSSE  ACF1\n  &lt;chr&gt;             &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;\n1 ARIMA(log(Trips)) Test   219.  471.  370.  3.62  6.98  1.49  1.44 0.614\n2 ETS(Trips)        Test   191.  456.  351.  3.06  6.66  1.42  1.39 0.589\n\n\n\n\n\n\n\n\nExercise 12\n\n\nCalculate cross-validated forecast accuracy for total Takings of Australian tourist accommodation (aus_accommodation_total).\nHow do these results differ from the forecast accuracy calculated earlier?"
  },
  {
    "objectID": "slides/accuracy/index.html#section-20",
    "href": "slides/accuracy/index.html#section-20",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Residual diagnostics\n\naugment(fit)\n\n# A tsibble: 160 x 6 [1Q]\n# Key:       .model [2]\n   .model     Quarter Trips .fitted .resid   .innov\n   &lt;chr&gt;        &lt;qtr&gt; &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;\n 1 ETS(Trips) 1998 Q1 6010.   5457.  554.   0.101  \n 2 ETS(Trips) 1998 Q2 4795.   4824.  -28.6 -0.00594\n 3 ETS(Trips) 1998 Q3 4317.   4370.  -52.8 -0.0121 \n 4 ETS(Trips) 1998 Q4 4675.   4841. -167.  -0.0344 \n 5 ETS(Trips) 1999 Q1 5304.   5599. -295.  -0.0526 \n 6 ETS(Trips) 1999 Q2 4562.   4545.   16.8  0.00369\n 7 ETS(Trips) 1999 Q3 3784.   4139. -356.  -0.0859 \n 8 ETS(Trips) 1999 Q4 4201.   4395. -194.  -0.0441 \n 9 ETS(Trips) 2000 Q1 5567.   5055.  512.   0.101  \n10 ETS(Trips) 2000 Q2 4502.   4468.   33.8  0.00757\n# ‚Ñπ 150 more rows\n\n\nRecall the ‚Äòinnovation‚Äô (model) residuals from augment(), .innov."
  },
  {
    "objectID": "slides/accuracy/index.html#section-21",
    "href": "slides/accuracy/index.html#section-21",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Residual diagnostics\n\n\n\n\n\n\nInnovation residuals\n\n\nInnovation residuals contain patterns that weren‚Äôt captured by the model.\nThey aren‚Äôt so useful for summarising accuracy since they might be transformed.\n\n\n\nWith .innov, we can use visualisation to look for patterns. Ideally we don‚Äôt find any because this means the model captured everything."
  },
  {
    "objectID": "slides/accuracy/index.html#section-22",
    "href": "slides/accuracy/index.html#section-22",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Residual diagnostics\nConsider a regression model without seasonality.\n\nfit &lt;- vic_tourism |&gt; \n  model(TSLM(Trips ~ trend()))\naugment(fit) |&gt; \n  gg_season(.innov)"
  },
  {
    "objectID": "slides/accuracy/index.html#section-23",
    "href": "slides/accuracy/index.html#section-23",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Residual diagnostics\n\n\n\n\n\n\nPattern found - seasonality detected\n\n\nHere we can see that the seasonality wasn‚Äôt captured by this model, and can still be found in the residuals.\n\n\n\n\n\nfit &lt;- vic_tourism |&gt; \n  model(TSLM(Trips ~ trend() + season()))\naugment(fit) |&gt; \n  gg_season(.innov)"
  },
  {
    "objectID": "slides/accuracy/index.html#section-24",
    "href": "slides/accuracy/index.html#section-24",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Residual diagnostics\n\n\n\n\n\n\nChecking assumptions\n\n\nIt is good practice to check model assumptions.\nAll model‚Äôs we‚Äôve seen today assume \\(\\varepsilon_t \\overset{\\mathrm{iid}}{\\sim} N(0, \\sigma^2)\\).\nTo check this, we can use gg_tsresiduals().\n\n\n\n\n\n\n\n\n\nExercise 13\n\n\nFollow along\nLet‚Äôs check the model assumptions for our ETS and ARIMA models on total Australian accommodation Takings.\n\nfit &lt;- aus_accommodation_total |&gt; \n  model(\n    ETS(Takings),\n    ARIMA(log(Takings))\n  )"
  },
  {
    "objectID": "slides/accuracy/index.html#section-25",
    "href": "slides/accuracy/index.html#section-25",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Residual diagnostics\n\nfit |&gt; \n  select(`ETS(Takings)`) |&gt; \n  gg_tsresiduals()"
  },
  {
    "objectID": "slides/accuracy/index.html#section-26",
    "href": "slides/accuracy/index.html#section-26",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Residual diagnostics\n\nfit |&gt; \n  select(`ARIMA(log(Takings))`) |&gt; \n  gg_tsresiduals()"
  },
  {
    "objectID": "slides/accuracy/index.html#thats-all-we-have-time-for",
    "href": "slides/accuracy/index.html#thats-all-we-have-time-for",
    "title": "Tidy time series & forecasting in R",
    "section": "That‚Äôs all we have time for!",
    "text": "That‚Äôs all we have time for!\n\n\n\n\n\n\n\n\nLearn more about forecasting\n\n\n\nForecasting principles and practices textbook\n\nFreely available online! https://otexts.com/fpp3/\n\n\n\n\n\n\n\n\n\nI appreciate your feedback\n\n\nShort feedback form: https://feedback.nectric.com.au/pZ26\n\n\n\n\n\n\n\n\n\n\nUseful links\n\n\n social.mitchelloharawild.com\n workshop.nectric.com.au/user2024/\n mitchelloharawild/workshop-fable-user2024"
  },
  {
    "objectID": "slides/accuracy/index.html#unsplash-credits",
    "href": "slides/accuracy/index.html#unsplash-credits",
    "title": "Tidy time series & forecasting in R",
    "section": "Unsplash credits",
    "text": "Unsplash credits\n\n\n\n\n\n\n\nThanks to these Unsplash contributors for their photos\n\n\n\n\n\nSander Weeteling: Photo\nKasia Gajek: Photo\nNASA: United States seen from orbit\nBalint Mendlik: Photo\nSander Weeteling: Photo"
  },
  {
    "objectID": "slides/modelling/index.html#section",
    "href": "slides/modelling/index.html#section",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Tidy time series analysis and forecasting\n\n\nModelling and forecasting\n\n\n10th June 2024 @ UseR! 2024\n\nMitchell O‚ÄôHara-Wild, Nectric\n\n\n\n\n\n\n\nUseful links\n\n\n social.mitchelloharawild.com\n workshop.nectric.com.au/user2024/\n mitchelloharawild/workshop-fable-user2024"
  },
  {
    "objectID": "slides/modelling/index.html#section-1",
    "href": "slides/modelling/index.html#section-1",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Forecasting can be difficult!\n\nMany forecasts are catastrophically wrong, and better described as ‚Äòhopecasting‚Äô."
  },
  {
    "objectID": "slides/modelling/index.html#section-2",
    "href": "slides/modelling/index.html#section-2",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Which is easier to forecast?\n\ndaily electricity demand in 3 days time\ntiming of next Halley‚Äôs comet appearance\ntime of sunrise this day next year\nGoogle stock price tomorrow\nGoogle stock price in 6 months time\nmaximum temperature tomorrow\nexchange rate of $US/AUS next week\ntotal sales of drugs in Australian pharmacies next month"
  },
  {
    "objectID": "slides/modelling/index.html#section-3",
    "href": "slides/modelling/index.html#section-3",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Factors affecting forecastability\nSomething is easier to forecast if‚Ä¶\n\nwe have a good understanding of the factors that contribute to it,\nthere is lots of data available,\nthe forecasts cannot affect the thing we are trying to forecast,\nthere is relatively low natural/unexplainable random variation,\nthe future is somewhat similar to the past."
  },
  {
    "objectID": "slides/modelling/index.html#section-4",
    "href": "slides/modelling/index.html#section-4",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "How are good forecasts made?\nStatistically! (or computationally!)\n\nConsider possible futures for this series:"
  },
  {
    "objectID": "slides/modelling/index.html#section-14",
    "href": "slides/modelling/index.html#section-14",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "What makes forecasts good?\nGood forecasts‚Ä¶\n\n\nAre uncertain (probabilistic)\nUseful for decision making\nCapture patterns in the data\n\n\n\n\n\n\n\n\n\nGood forecasts aren‚Äôt necessarily accurate!\n\n\nUsually accuracy is important, but not always.\nForecasts (usually) assume that interventions won‚Äôt occur, e.g.¬†COVID-19 measures."
  },
  {
    "objectID": "slides/modelling/index.html#section-15",
    "href": "slides/modelling/index.html#section-15",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Some simple forecasting models\n\n\n\n\n\n\nYour turn\n\n\nHow would you forecast visitors to Australia?\nHint: Consider the patterns seen in the data, and how statistics/code can mimic the trend, seasonality, etc."
  },
  {
    "objectID": "slides/modelling/index.html#section-16",
    "href": "slides/modelling/index.html#section-16",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Some simple forecasting models\n\n\n\nThe naive model\n\n\nSimply use the most recent observation."
  },
  {
    "objectID": "slides/modelling/index.html#section-17",
    "href": "slides/modelling/index.html#section-17",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Some simple forecasting models\n\n\n\nThe seasonal naive model\n\n\nUse the most recent ‚Äòseasonal‚Äô observation."
  },
  {
    "objectID": "slides/modelling/index.html#section-18",
    "href": "slides/modelling/index.html#section-18",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Some simple forecasting models\n\n\n\nThe naive with drift model\n\n\nExtrapolate a line between the first and last observation."
  },
  {
    "objectID": "slides/modelling/index.html#section-19",
    "href": "slides/modelling/index.html#section-19",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Some simple forecasting models\n\n\n\nThe seasonal naive with drift model\n\n\nExtrapolate between first and last with seasonality."
  },
  {
    "objectID": "slides/modelling/index.html#section-20",
    "href": "slides/modelling/index.html#section-20",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Estimating a model\nModels are estimated using model():\n\npbs_scripts |&gt; \n  model(\n    NAIVE(Scripts),\n    SNAIVE(Scripts),\n    NAIVE(Scripts ~ drift()),\n    SNAIVE(Scripts ~ drift()),\n  )\n\n# A mable: 1 x 4\n  `NAIVE(Scripts)` `SNAIVE(Scripts)` `NAIVE(Scripts ~ drift())`\n           &lt;model&gt;           &lt;model&gt;                    &lt;model&gt;\n1          &lt;NAIVE&gt;          &lt;SNAIVE&gt;              &lt;RW w/ drift&gt;\n# ‚Ñπ 1 more variable: `SNAIVE(Scripts ~ drift())` &lt;model&gt;\n\n\n\n\n\n\n\n\nThe mable\n\n\nA mable (model table) contains 1 row per time series, and 1 column for each specified model."
  },
  {
    "objectID": "slides/modelling/index.html#section-21",
    "href": "slides/modelling/index.html#section-21",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Producing forecasts\nForecasts are made using forecast():\n\npbs_scripts &lt;- PBS |&gt;\n  summarise(Scripts = sum(Scripts))\npbs_scripts |&gt; \n  model(\n    NAIVE(Scripts),\n    SNAIVE(Scripts),\n    NAIVE(Scripts ~ drift()),\n    SNAIVE(Scripts ~ drift()),\n  ) |&gt; \n  forecast(h = \"2 years\")\n\n# A fable: 96 x 4 [1M]\n# Key:     .model [4]\n   .model            Month             Scripts    .mean\n   &lt;chr&gt;             &lt;mth&gt;              &lt;dist&gt;    &lt;dbl&gt;\n 1 NAIVE(Scripts) 2008 Jul N(1.2e+07, 2.2e+12) 12123769\n 2 NAIVE(Scripts) 2008 Aug N(1.2e+07, 4.4e+12) 12123769\n 3 NAIVE(Scripts) 2008 Sep N(1.2e+07, 6.6e+12) 12123769\n 4 NAIVE(Scripts) 2008 Oct N(1.2e+07, 8.8e+12) 12123769\n 5 NAIVE(Scripts) 2008 Nov N(1.2e+07, 1.1e+13) 12123769\n 6 NAIVE(Scripts) 2008 Dec N(1.2e+07, 1.3e+13) 12123769\n 7 NAIVE(Scripts) 2009 Jan N(1.2e+07, 1.5e+13) 12123769\n 8 NAIVE(Scripts) 2009 Feb N(1.2e+07, 1.8e+13) 12123769\n 9 NAIVE(Scripts) 2009 Mar   N(1.2e+07, 2e+13) 12123769\n10 NAIVE(Scripts) 2009 Apr N(1.2e+07, 2.2e+13) 12123769\n# ‚Ñπ 86 more rows"
  },
  {
    "objectID": "slides/modelling/index.html#section-22",
    "href": "slides/modelling/index.html#section-22",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Producing forecasts\n\n\n# A fable: 96 x 4 [1M]\n# Key:     .model [4]\n   .model            Month             Scripts    .mean\n   &lt;chr&gt;             &lt;mth&gt;              &lt;dist&gt;    &lt;dbl&gt;\n 1 NAIVE(Scripts) 2008 Jul N(1.2e+07, 2.2e+12) 12123769\n 2 NAIVE(Scripts) 2008 Aug N(1.2e+07, 4.4e+12) 12123769\n 3 NAIVE(Scripts) 2008 Sep N(1.2e+07, 6.6e+12) 12123769\n 4 NAIVE(Scripts) 2008 Oct N(1.2e+07, 8.8e+12) 12123769\n 5 NAIVE(Scripts) 2008 Nov N(1.2e+07, 1.1e+13) 12123769\n 6 NAIVE(Scripts) 2008 Dec N(1.2e+07, 1.3e+13) 12123769\n 7 NAIVE(Scripts) 2009 Jan N(1.2e+07, 1.5e+13) 12123769\n 8 NAIVE(Scripts) 2009 Feb N(1.2e+07, 1.8e+13) 12123769\n 9 NAIVE(Scripts) 2009 Mar   N(1.2e+07, 2e+13) 12123769\n10 NAIVE(Scripts) 2009 Apr N(1.2e+07, 2.2e+13) 12123769\n# ‚Ñπ 86 more rows\n\n\n\n\n\n\n\n\nThe fable\n\n\nA fable (forecast table) is like a tsibble, but with distributions for the forecasted variable."
  },
  {
    "objectID": "slides/modelling/index.html#section-23",
    "href": "slides/modelling/index.html#section-23",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Visualising forecasts\n\npbs_scripts |&gt; \n  model(\n    NAIVE(Scripts),\n    SNAIVE(Scripts),\n    NAIVE(Scripts ~ drift()),\n    SNAIVE(Scripts ~ drift()),\n  ) |&gt; \n  forecast(h = \"2 years\") |&gt; \n  autoplot(pbs_scripts)"
  },
  {
    "objectID": "slides/modelling/index.html#section-24",
    "href": "slides/modelling/index.html#section-24",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "The forecasting workflow\n\n# Tidied / prepared data here, e.g.\nvic_tourism |&gt; \n  # Estimate the models using the data\n  model(\n    # Model specifications here, e.g.\n    SNAIVE(Trips)\n  ) |&gt; \n  # Produce forecasts\n  forecast(h = \"2 years\") |&gt; \n  # Visualise forecasts\n  autoplot(pbs_scripts)\n\n\n\n\n\n\n\nExercise 6\n\n\nSpecify appropriate model(s) for the total number of tourists arriving in Victoria.\nEstimate them with model() and produce forecasts for the next 5 years with forecast().\nPlot the forecasts, and visually evaluate their suitability."
  },
  {
    "objectID": "slides/modelling/index.html#section-25",
    "href": "slides/modelling/index.html#section-25",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Forecasting with regression\nRegression can also forecast, use time as regressors for the response variable.\n\ntrend via the time index \\(t\\)\nseasonality via seasonal dummies \\(s_{it}\\)\n\n\\[y_t = \\beta_0 + \\beta_1 t + \\sum_{i=1}^m \\beta_{s_i} s_{it} + \\varepsilon_t\\]\n\n\n\n\n\n\nSpecifying time series linear models\n\n\nTSLM(y ~ trend() + season())"
  },
  {
    "objectID": "slides/modelling/index.html#section-26",
    "href": "slides/modelling/index.html#section-26",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Forecasting with regression\n\n\n\n\n\n\nSpecifying time series linear models\n\n\nTSLM(y ~ trend() + season())\n\n\n\n\n\n\n\n\n\nExercise 7\n\n\nProduce forecasts for total Takings of Australian tourist accommodation from aus_accommodation using linear regression.\n\nlibrary(fpp3)\naus_accommodation_total &lt;- fpp3::aus_accommodation |&gt; \n  summarise(Takings = sum(Takings), Occupancy = mean(Occupancy))"
  },
  {
    "objectID": "slides/modelling/index.html#section-27",
    "href": "slides/modelling/index.html#section-27",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Forecasting with regression\nRegression can also incorporate other covariates. For example:\n\naus_accommodation_total |&gt;\n  model(\n    TSLM(Takings ~ trend() + season() + Occupancy)\n  )\n\n# A mable: 1 x 1\n  `TSLM(Takings ~ trend() + season() + Occupancy)`\n                                           &lt;model&gt;\n1                                           &lt;TSLM&gt;\n\n\n\n\n\n\n\n\nDifficult to forecast\n\n\nForecasting with regressors requires you to forecast the regressors too! Useful regressors are easily known, predictable, or controllable."
  },
  {
    "objectID": "slides/modelling/index.html#section-28",
    "href": "slides/modelling/index.html#section-28",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Exponential smoothing\nTime series patterns often change over time.\nThe fixed coefficients of regression is unsuitable for most time series.\nExponential smoothing (ETS) is similar to regression, but allows the ‚Äòcoefficients‚Äô (states) to vary over time.\n\\[y_t = \\ell_{t-1} + b_{t-1} + s_{t-m} + \\varepsilon_t\\]\n\n\n\n\n\n\nSpecifying ETS models\n\n\nETS(y ~ error(\"A\") + trend(\"A\") + season(\"A\"))"
  },
  {
    "objectID": "slides/modelling/index.html#section-29",
    "href": "slides/modelling/index.html#section-29",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Exponential smoothing\nExponential smoothing also works for ‚Äòmultiplicative‚Äô patterns.\nThis is where the variation grows proportionately to \\(\\ell_t\\).\nFor example, multiplicative seasonality:\n\\[y_t = (\\ell_{t-1} + b_{t-1})s_{t-m} + \\varepsilon_t\\]\n\n\n\n\n\n\nSpecifying ETS models\n\n\nETS(y ~ error(\"A\") + trend(\"A\") + season(\"M\"))"
  },
  {
    "objectID": "slides/modelling/index.html#section-30",
    "href": "slides/modelling/index.html#section-30",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Exponential smoothing\nThe best ETS model can be chosen automatically using AICc.\nSimply don‚Äôt specify the right side of the formula for automatic selection.\n\n\n\n\n\n\nSpecifying ETS models\n\n\nETS(y)\n\n\n\n\n\n\n\n\n\nExercise 8\n\n\nIs the seasonality of total Australian accommodation takings from aus_accommodation_total additive or multiplicative?\nEstimate an ETS model for the data, does the automatic ETS model match the patterns you see in a time plot?"
  },
  {
    "objectID": "slides/modelling/index.html#section-31",
    "href": "slides/modelling/index.html#section-31",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "ARIMA\nUnlike earlier models which directly describe trends and seasonality, ARIMA forecasts patterns using autocorrelations (ACFs).\n\n\n\n\n\n\nRecall the ACF plot\n\n\n\npbs_scripts |&gt; \n  ACF(Scripts) |&gt; \n  autoplot()"
  },
  {
    "objectID": "slides/modelling/index.html#section-32",
    "href": "slides/modelling/index.html#section-32",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "ARIMA\nUnlike ETS, ARIMA can‚Äôt directly handle multiplicative patterns.\nThis isn‚Äôt a problem though, since we have a transformational trick ü™Ñ\n\n\\[\\log(x \\times y) = \\log(x) + \\log(y)\\]\nBefore we can use ARIMA, we need to transform our data to be additive."
  },
  {
    "objectID": "slides/modelling/index.html#section-33",
    "href": "slides/modelling/index.html#section-33",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "ARIMA\nLog transform the data to make multiplicative patterns additive.\n\npbs_scripts |&gt; \n  autoplot(log(Scripts))"
  },
  {
    "objectID": "slides/modelling/index.html#section-34",
    "href": "slides/modelling/index.html#section-34",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "ARIMA\nWith the appropriate transformation, we can now estimate an ARIMA model:\n\n\n\n\n\n\nSpecifying ARIMA models\n\n\nThese will use automatic ARIMA selection (often described as auto.arima()).\nARIMA(y), or ARIMA(log(y))\n\n\n\n\n\n\n\n\n\nOther transformations\n\n\nMultiplicative patterns aren‚Äôt always exactly multiplicative - for this we often use power transformations via box_cox(y, lambda).\nMore information: https://otexts.com/fpp3/transformations.html"
  },
  {
    "objectID": "slides/modelling/index.html#section-35",
    "href": "slides/modelling/index.html#section-35",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "ARIMA\n\n\n\n\n\n\nExercise 9\n\n\nIdentify if a transformation is necessary for the aus_accommodation_total Takings\nThen estimate an automatically selected ARIMA model for this data.\nCompare ARIMA forecasts with the automatic ETS model, how do they differ?"
  },
  {
    "objectID": "slides/modelling/index.html#section-36",
    "href": "slides/modelling/index.html#section-36",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "ETS vs ARIMA\nWhich model is better?\nIt depends!\n\n\n\n\n\n\n\nCapturing patterns\n\n\n\nBoth handle time varying trends and seasonality.\nETS directly captures multiplicative patterns.\nARIMA can forecast cyclical patterns.\n\n\n\n\n\n\n\n\n\n\n\n\nEvaluating accuracy\n\n\nWe can determine which model works best on a specific dataset using accuracy evaluation‚Ä¶\nFortunately, that‚Äôs up next!"
  },
  {
    "objectID": "slides/modelling/index.html#time-for-a-break",
    "href": "slides/modelling/index.html#time-for-a-break",
    "title": "Tidy time series & forecasting in R",
    "section": "‚è∞ Time for a break!",
    "text": "‚è∞ Time for a break!\n\n\n\n\n\n\n\n\nUp next‚Ä¶\n\n\n\nLooking for patterns in residuals\nEvaluating forecast accuracy\nChoosing the best forecasts\n\n\n\n\n\n\n\n\n\n\n\nUseful links\n\n\n social.mitchelloharawild.com\n workshop.nectric.com.au/user2024/\n mitchelloharawild/workshop-fable-user2024"
  },
  {
    "objectID": "slides/modelling/index.html#unsplash-credits",
    "href": "slides/modelling/index.html#unsplash-credits",
    "title": "Tidy time series & forecasting in R",
    "section": "Unsplash credits",
    "text": "Unsplash credits\n\n\n\n\n\n\n\nThanks to these Unsplash contributors for their photos\n\n\n\n\n\nSander Weeteling: Photo\nKasia Gajek: Photo\nNicole Avagliano: Photo\nDavid Becker: This was one of my first startrails. I took abou‚Ä¶\nRock‚Äôn Roll Monkey: Photo\nNicole Avagliano: Photo\nIsabela Kronemberger: set of tools\nVruyr Martirosyan: Painted Ripples\nDaryan Shamkhali: View from Shibuya Scramble Square Jan 2020\namjd rdwan: beautiful colors\nSander Weeteling: Photo"
  },
  {
    "objectID": "license.html",
    "href": "license.html",
    "title": "License",
    "section": "",
    "text": "This work is licensed under a Creative Commons Attribution 4.0 International License."
  },
  {
    "objectID": "index.html#course-overview",
    "href": "index.html#course-overview",
    "title": "Tidy time series analysis and forecasting",
    "section": "Course Overview",
    "text": "Course Overview\nOrganisations of all types collect vast amounts of time series data, and there is a growing need for time series analytics to understand how things change in our fast-moving world. This tutorial provides a practical introduction to time series analytics and forecasting using R, utilising the tidyverse and tidy time series tools to enable analysis across many time series. Attendees will learn about commonly seen time series patterns, and how to find them with specialised time series graphics created with ggplot2. Then we will use fable to capture these patterns with statistical time series models, and produce probabilistic forecasts. Finally, participants will gain insights into evaluating model performance, ensuring the accuracy and reliability of their forecasts. Through a combination of foundational concepts and practical demonstrations, this tutorial equips participants with the skills to extract meaningful insights from time series data for informed decision-making in various domains.\nThis workshop will run in-person at useR! 2024 in Salzburg, Australia on July 8th 2024."
  },
  {
    "objectID": "index.html#registration",
    "href": "index.html#registration",
    "title": "Tidy time series analysis and forecasting",
    "section": "Registration",
    "text": "Registration\nIf you‚Äôre attending UseR! 2024 in person, there is still time to register - it‚Äôs free!\nTo add this tutorial to your registration, log in to your existing registration, click the Modify Registration button, and navigate to the Reg Options page (page 4). Finally, select the tutorial you want to attend (this one!)."
  },
  {
    "objectID": "index.html#learning-objectives",
    "href": "index.html#learning-objectives",
    "title": "Tidy time series analysis and forecasting",
    "section": "Learning objectives",
    "text": "Learning objectives\nParticipants will learn how to:\n\nHow to wrangle time series data with familiar tidy tools.\nHow to visualize common time series patterns.\nHow to select a good forecasting algorithm for your time series.\nHow to evaluate the accuracy of forecasts."
  },
  {
    "objectID": "index.html#instructor",
    "href": "index.html#instructor",
    "title": "Tidy time series analysis and forecasting",
    "section": "Instructor",
    "text": "Instructor\n Mitchell O‚ÄôHara-Wild (he/him) is a PhD candidate at Monash University, creating new techniques and tools for forecasting large collections of time series with Rob Hyndman and George Athanasopoulos. He is the lead developer of the tidy time-series forecasting tools fable and feasts, and has co-developed the widely used forecast package since 2015. He is an award-winning educator, and has taught applied forecasting at Monash University and various forecasting workshops around the world."
  },
  {
    "objectID": "index.html#required-equipment",
    "href": "index.html#required-equipment",
    "title": "Tidy time series analysis and forecasting",
    "section": "Required equipment",
    "text": "Required equipment\nPlease bring your own laptop capable of running R."
  },
  {
    "objectID": "index.html#required-software",
    "href": "index.html#required-software",
    "title": "Tidy time series analysis and forecasting",
    "section": "Required software",
    "text": "Required software\nTo be able to complete the exercises of this workshop, please install a suitable IDE (such as RStudio), a recent version of R (4.1+) and the following packages.\n\nTime series packages and extensions\n\nfpp3\n\n\nThe following code will install the main packages needed for the workshop.\ninstall.packages(c(\"fpp3\"))\nPlease have the required software installed and pre-work completed before attending the workshop."
  },
  {
    "objectID": "exercises.html",
    "href": "exercises.html",
    "title": "Exercises",
    "section": "",
    "text": "The pedestrian dataset contains hourly pedestrian counts from 2015-01-01 to 2016-12-31 at 4 sensors in the city of Melbourne.\nThe data is shown below:\n\n\n# A tibble: 66,037 √ó 5\n   Sensor         Date_Time           Date        Time Count\n   &lt;chr&gt;          &lt;dttm&gt;              &lt;date&gt;     &lt;int&gt; &lt;int&gt;\n 1 Birrarung Marr 2015-01-01 00:00:00 2015-01-01     0  1630\n 2 Birrarung Marr 2015-01-01 01:00:00 2015-01-01     1   826\n 3 Birrarung Marr 2015-01-01 02:00:00 2015-01-01     2   567\n 4 Birrarung Marr 2015-01-01 03:00:00 2015-01-01     3   264\n 5 Birrarung Marr 2015-01-01 04:00:00 2015-01-01     4   139\n 6 Birrarung Marr 2015-01-01 05:00:00 2015-01-01     5    77\n 7 Birrarung Marr 2015-01-01 06:00:00 2015-01-01     6    44\n 8 Birrarung Marr 2015-01-01 07:00:00 2015-01-01     7    56\n 9 Birrarung Marr 2015-01-01 08:00:00 2015-01-01     8   113\n10 Birrarung Marr 2015-01-01 09:00:00 2015-01-01     9   166\n# ‚Ñπ 66,027 more rows\n\n\n\n\n\n\n\n\nYour turn!\n\n\n\nIdentify the index variable, key variable(s), and measured variable(s) of this dataset.\n\n\n\n\n\n\n\n\nHint\n\n\n\n\nThe index variable contains the complete time information\nThe key variable(s) identify each time series\nThe measured variable(s) are what you want to explore/forecast.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe aus_accommodation dataset contains quarterly data on Australian tourist accommodation from short-term non-residential accommodation with 15 or more rooms, 1998 Q1 - 2016 Q2.\nThe units of the measured variables are as follows:\n\nTakings are in millions of Australian dollars\nOccupancy is a percentage of rooms occupied\nCPI is an index with value 100 in 2012 Q1.\n\n\n\n\n\n\n\nYour turn!\n\n\n\nComplete the code to convert this dataset into a tsibble.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\n\n\n\n\n\n\n\nTemporal granularity\n\n\n\nThe previous exercise produced a dataset with daily frequency - although clearly the data is quarterly! This is because we are using a daily granularity which is inappropriate for this data.\n\n\nCommon temporal granularities can be created with these functions:\n\n\n\n\n\nGranularity\nFunction\n\n\n\n\nAnnual\nas.integer()\n\n\nQuarterly\nyearquarter()\n\n\nMonthly\nyearmonth()\n\n\nWeekly\nyearweek()\n\n\nDaily\nas_date(), ymd()\n\n\nSub-daily\nas_datetime()\n\n\n\n\n\n\n\n\n\n\n\nYour turn!\n\n\n\nUse the appropriate granularity for the aus_accommodation dataset, and verify that the frequency is now quarterly.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\n\nThe tourism dataset contains the quarterly overnight trips from 1998 Q1 to 2016 Q4 across Australia.\nIt is disaggregated by 3 key variables:\n\nState: States and territories of Australia\nRegion: The tourism regions are formed through the aggregation of Statistical Local Areas (SLAs) which are defined by the various State and Territory tourism authorities according to their research and marketing needs\nPurpose: Stopover purpose of visit: ‚ÄúHoliday‚Äù, ‚ÄúVisiting friends and relatives‚Äù, ‚ÄúBusiness‚Äù, ‚ÄúOther reason‚Äù.\n\n\n\n\n\n\n\nYour turn!\n\n\n\nCalculate the total quarterly tourists visiting Victoria from the tourism dataset.\n\n\n\n\n\n\n\n\nTidy tools\n\n\n\nTo achieve this we will use functions from dplyr.\n\nUse filter() to keep only data where the State is \"Victoria\".\nUse summarise() to calculate the total trips in Victoria, regardless of Region and Purpose.\n\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\n\n\n\n\nBonus task\n\n\n\nIf you finish early, try also using group_by() to find the quarterly trips to Victoria for each Purpose.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\n\nVisualise and describe the temporal patterns of visitors to Victoria in the tourism dataset.\n\n\n\n\n\n\nYour turn\n\n\n\nUse autoplot() to produce a time plot of the visitors to Victoria, and describe the temporal patterns.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\nOverall trend\n\n\n\n\n\n\n\n\n\nSeasonality\n\n\n\n\n\n\n\n\n\nCycles\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYour turn\n\n\n\nUse gg_season() to take a closer look at the shape of the seasonal pattern.\nAt what time of year is the seasonal peak and trough?\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\nSeasonal peak\nThe seasonal maximum is:\n\n\n\n\n\n\n\n\n\nSeasonal trough\nThe seasonal minimum is:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYour turn\n\n\n\nUse gg_subseries() to see if the seasonal shape changes over time.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\nChanging seasonality\nIs the seasonal pattern changing over time?\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYour turn\n\n\n\nUse ACF() |&gt; autoplot() to look at the autocorrelations.\nCan you identify the trend and seasonality in this plot?\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\n\n\n\n\nBonus task\n\n\n\nIf you have extra time, repeat the above time series exploration for each Purpose of travel to Victoria. Do the patterns vary by purpose of travel?\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code"
  },
  {
    "objectID": "exercises.html#exercise-1",
    "href": "exercises.html#exercise-1",
    "title": "Exercises",
    "section": "",
    "text": "The pedestrian dataset contains hourly pedestrian counts from 2015-01-01 to 2016-12-31 at 4 sensors in the city of Melbourne.\nThe data is shown below:\n\n\n# A tibble: 66,037 √ó 5\n   Sensor         Date_Time           Date        Time Count\n   &lt;chr&gt;          &lt;dttm&gt;              &lt;date&gt;     &lt;int&gt; &lt;int&gt;\n 1 Birrarung Marr 2015-01-01 00:00:00 2015-01-01     0  1630\n 2 Birrarung Marr 2015-01-01 01:00:00 2015-01-01     1   826\n 3 Birrarung Marr 2015-01-01 02:00:00 2015-01-01     2   567\n 4 Birrarung Marr 2015-01-01 03:00:00 2015-01-01     3   264\n 5 Birrarung Marr 2015-01-01 04:00:00 2015-01-01     4   139\n 6 Birrarung Marr 2015-01-01 05:00:00 2015-01-01     5    77\n 7 Birrarung Marr 2015-01-01 06:00:00 2015-01-01     6    44\n 8 Birrarung Marr 2015-01-01 07:00:00 2015-01-01     7    56\n 9 Birrarung Marr 2015-01-01 08:00:00 2015-01-01     8   113\n10 Birrarung Marr 2015-01-01 09:00:00 2015-01-01     9   166\n# ‚Ñπ 66,027 more rows\n\n\n\n\n\n\n\n\nYour turn!\n\n\n\nIdentify the index variable, key variable(s), and measured variable(s) of this dataset.\n\n\n\n\n\n\n\n\nHint\n\n\n\n\nThe index variable contains the complete time information\nThe key variable(s) identify each time series\nThe measured variable(s) are what you want to explore/forecast."
  },
  {
    "objectID": "exercises.html#exercise-2",
    "href": "exercises.html#exercise-2",
    "title": "Exercises",
    "section": "",
    "text": "The aus_accommodation dataset contains quarterly data on Australian tourist accommodation from short-term non-residential accommodation with 15 or more rooms, 1998 Q1 - 2016 Q2.\nThe units of the measured variables are as follows:\n\nTakings are in millions of Australian dollars\nOccupancy is a percentage of rooms occupied\nCPI is an index with value 100 in 2012 Q1.\n\n\n\n\n\n\n\nYour turn!\n\n\n\nComplete the code to convert this dataset into a tsibble.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code"
  },
  {
    "objectID": "exercises.html#exercise-3",
    "href": "exercises.html#exercise-3",
    "title": "Exercises",
    "section": "",
    "text": "Temporal granularity\n\n\n\nThe previous exercise produced a dataset with daily frequency - although clearly the data is quarterly! This is because we are using a daily granularity which is inappropriate for this data.\n\n\nCommon temporal granularities can be created with these functions:\n\n\n\n\n\nGranularity\nFunction\n\n\n\n\nAnnual\nas.integer()\n\n\nQuarterly\nyearquarter()\n\n\nMonthly\nyearmonth()\n\n\nWeekly\nyearweek()\n\n\nDaily\nas_date(), ymd()\n\n\nSub-daily\nas_datetime()\n\n\n\n\n\n\n\n\n\n\n\nYour turn!\n\n\n\nUse the appropriate granularity for the aus_accommodation dataset, and verify that the frequency is now quarterly.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code"
  },
  {
    "objectID": "exercises.html#exercise-4",
    "href": "exercises.html#exercise-4",
    "title": "Exercises",
    "section": "",
    "text": "The tourism dataset contains the quarterly overnight trips from 1998 Q1 to 2016 Q4 across Australia.\nIt is disaggregated by 3 key variables:\n\nState: States and territories of Australia\nRegion: The tourism regions are formed through the aggregation of Statistical Local Areas (SLAs) which are defined by the various State and Territory tourism authorities according to their research and marketing needs\nPurpose: Stopover purpose of visit: ‚ÄúHoliday‚Äù, ‚ÄúVisiting friends and relatives‚Äù, ‚ÄúBusiness‚Äù, ‚ÄúOther reason‚Äù.\n\n\n\n\n\n\n\nYour turn!\n\n\n\nCalculate the total quarterly tourists visiting Victoria from the tourism dataset.\n\n\n\n\n\n\n\n\nTidy tools\n\n\n\nTo achieve this we will use functions from dplyr.\n\nUse filter() to keep only data where the State is \"Victoria\".\nUse summarise() to calculate the total trips in Victoria, regardless of Region and Purpose.\n\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\n\n\n\n\nBonus task\n\n\n\nIf you finish early, try also using group_by() to find the quarterly trips to Victoria for each Purpose.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code"
  },
  {
    "objectID": "exercises.html#exercise-5",
    "href": "exercises.html#exercise-5",
    "title": "Exercises",
    "section": "",
    "text": "Visualise and describe the temporal patterns of visitors to Victoria in the tourism dataset.\n\n\n\n\n\n\nYour turn\n\n\n\nUse autoplot() to produce a time plot of the visitors to Victoria, and describe the temporal patterns.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\nOverall trend\n\n\n\n\n\n\n\n\n\nSeasonality\n\n\n\n\n\n\n\n\n\nCycles\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYour turn\n\n\n\nUse gg_season() to take a closer look at the shape of the seasonal pattern.\nAt what time of year is the seasonal peak and trough?\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\nSeasonal peak\nThe seasonal maximum is:\n\n\n\n\n\n\n\n\n\nSeasonal trough\nThe seasonal minimum is:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYour turn\n\n\n\nUse gg_subseries() to see if the seasonal shape changes over time.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\nChanging seasonality\nIs the seasonal pattern changing over time?\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nYour turn\n\n\n\nUse ACF() |&gt; autoplot() to look at the autocorrelations.\nCan you identify the trend and seasonality in this plot?\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\n\n\n\n\nBonus task\n\n\n\nIf you have extra time, repeat the above time series exploration for each Purpose of travel to Victoria. Do the patterns vary by purpose of travel?\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code"
  },
  {
    "objectID": "exercises.html#exercise-6",
    "href": "exercises.html#exercise-6",
    "title": "Exercises",
    "section": "Exercise 6",
    "text": "Exercise 6\nEarlier we used visualisation to identify temporal patterns with visitors to Victoria in the tourism dataset. Now we‚Äôll use this to specify, estimate, and forecast the data!\n\n\n\n\n\n\nYour turn!\n\n\n\nSpecify all simple forecasting models for the total number of tourists arriving in Victoria.\nEstimate them with model() and produce forecasts for the next 5 years with forecast().\nPlot the forecasts, and visually evaluate their suitability.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\nWhich simple forecasting model is most appropriate for this data?\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nBonus task\n\n\n\nIf you finish early, try also producing forecasts of the quarterly trips to Victoria for each Purpose.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code"
  },
  {
    "objectID": "exercises.html#exercise-7",
    "href": "exercises.html#exercise-7",
    "title": "Exercises",
    "section": "Exercise 7",
    "text": "Exercise 7\n\n\n\n\n\n\nYour turn!\n\n\n\nProduce forecasts for total Takings of Australian tourist accommodation over the next 5 years from aus_accommodation using linear regression.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\n\n\n\n\n\n\nBonus task\n\n\n\nTry producing forecasts from the regression model which also uses Occupancy as a regressor.\nWhy doesn‚Äôt this work?\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code"
  },
  {
    "objectID": "exercises.html#exercise-8",
    "href": "exercises.html#exercise-8",
    "title": "Exercises",
    "section": "Exercise 8",
    "text": "Exercise 8\nAn ETS model can capture a wide range of time series patterns, and most usefully it can adapt to changes in these patterns over time.\n\n\n\n\n\n\nAdditive or multiplicative?\n\n\n\nAdditive components have constant variance, while multiplicative components have variation proportionate to the level/scale of the data.\n\n\n\n\n\n\n\n\nYour turn!\n\n\n\nIs the seasonality of total Australian accommodation takings from aus_accommodation_total additive or multiplicative?\nEstimate an ETS model for the data, does the automatic ETS model match the patterns you see in a time plot?\n\n\nIdentify the nature of each of the ETS components.\n\n\nError\n\n\n\n\n\n\n\n\n\nTrend\n\n\n\n\n\n\n\n\n\nSeasonality\n\n\n\n\n\n\n\n\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code"
  },
  {
    "objectID": "exercises.html#exercise-9",
    "href": "exercises.html#exercise-9",
    "title": "Exercises",
    "section": "Exercise 9",
    "text": "Exercise 9\nAn ARIMA model captures a many time series pattern using autocorrelations. It requires data with a constant variance, so transformations might be necessary.\n\n\n\n\n\n\nTransforming the data\n\n\n\nWe can use log() to transform multiplicative patterns into additive ones. This is done inside the model specification, applied to the response variable. For exxample: ARIMA(log(y)).\nMultiplicative patterns aren‚Äôt always exactly multiplicative - for this we often use power transformations via box_cox(y, lambda). More information: https://otexts.com/fpp3/transformations.html\n\n\n\n\n\n\n\n\nYour turn!\n\n\n\nIdentify if a transformation is necessary for the aus_accommodation_total Takings\nThen estimate an automatically selected ARIMA model for this data.\nCompare ARIMA forecasts with the automatic ETS model, how do they differ?\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\nThe ARIMA and ETS forecasts are‚Ä¶"
  },
  {
    "objectID": "exercises.html#exercise-10",
    "href": "exercises.html#exercise-10",
    "title": "Exercises",
    "section": "Exercise 10",
    "text": "Exercise 10\nWhich model is better, ETS or ARIMA? It depends on the data!\n\n\n\n\n\n\nYour turn!\n\n\n\nLet‚Äôs see which model works best for forecasting total Takings of Australian tourist accommodation.\nEstimate ETS and ARIMA models for total Takings of Australian tourist accommodation (aus_accommodation_total), then use accuracy() to find their in-sample accuracy.\nWhich model is most accurate?\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\nBetween ARIMA and ETS, which model is most accurate for this data?"
  },
  {
    "objectID": "exercises.html#exercise-11",
    "href": "exercises.html#exercise-11",
    "title": "Exercises",
    "section": "Exercise 11",
    "text": "Exercise 11\nIn-sample forecast accuracy is unrealistic - the model has seen the future!\nProduce out-of-sample forecasts to evaluate which model is the most accurate.\n\n\n\n\n\n\nYour turn!\n\n\n\nEvaluate ETS and ARIMA forecast accuracy for total Takings of Australian tourist accommodation (aus_accommodation_total).\n\nWithhold 4 years of data for forecast evaluation,\nEstimate ETS and ARIMA models on the filtered data,\nProduce forecasts for the 4 years of withheld data,\nEvaluate forecast accuracy using accuracy().\n\nWhich model is more accurate for forecasting?\nDoes this differ from the in-sample model accuracy?\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\nBetween ARIMA and ETS, which model is most accurate for this data based on the test set accuracy?"
  },
  {
    "objectID": "exercises.html#exercise-12",
    "href": "exercises.html#exercise-12",
    "title": "Exercises",
    "section": "Exercise 12",
    "text": "Exercise 12\nEvaluating out-of-sample forecasts on a small test-set is highly sensitive to just a few observations.\nLet‚Äôs use cross-validation to get a reliable estimate of forecast accuracy.\n\n\n\n\n\n\nYour turn!\n\n\n\nCalculate cross-validated forecast accuracy for total Takings of Australian tourist accommodation (aus_accommodation_total). Use an initial fold size of 10 years, and increment the length of data by 4 years in each fold.\nHow do these results differ from the forecast accuracy calculated earlier?\nHint: Use stretch_tsibble() after filter() to create cross-validation folds of the data.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code\n  \n    \n    \n      \n    \n  \n  \n  \n\n\nBetween ARIMA and ETS, which model is most accurate for this data based on the cross-validated accuracy?"
  },
  {
    "objectID": "exercises.html#exercise-13",
    "href": "exercises.html#exercise-13",
    "title": "Exercises",
    "section": "Exercise 13",
    "text": "Exercise 13\nAccuracy provides useful comparison between models and indicative forecasting performance.\nResidual diagnostics reveals opportunities to improve your model, and indicates the statistical appropriateness of your model.\n\n\n\n\n\n\nFollow along\n\n\n\nLet‚Äôs check the model assumptions for our ETS and ARIMA models on total Australian accommodation Takings.\n\n\n\n  üü° Loading\n    webR...\n  üí° Check answer\n  ‚úÖ Show solution\n  üí• Reset code"
  },
  {
    "objectID": "slides/analysis/index.html#section",
    "href": "slides/analysis/index.html#section",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Tidy time series analysis and forecasting\n\n\nTime series data and patterns\n\n\n10th June 2024 @ UseR! 2024\n\nMitchell O‚ÄôHara-Wild, Nectric\n\n\n\n\n\n\n\nUseful links\n\n\n social.mitchelloharawild.com\n workshop.nectric.com.au/user2024/\n mitchelloharawild/workshop-fable-user2024"
  },
  {
    "objectID": "slides/analysis/index.html#section-1",
    "href": "slides/analysis/index.html#section-1",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "üéØ Today‚Äôs goals\n\n\n\nLearn about time series data.\nVisualise common time series patterns.\nProduce forecasts from a statistical models.\nEvaluate the forecasting accuracy.\n\n\n\n\n\n\n\n\nüåª Expectations\n\n\n\nFollow the code of conduct.\nAsk relevant questions any time, Q&A during breaks.\nBe kind and respectful.\nMake mistakes and learn!\n\n\n\n\n\nhttps://workshop.nectric.com.au/user2024/"
  },
  {
    "objectID": "slides/analysis/index.html#section-2",
    "href": "slides/analysis/index.html#section-2",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Mitchell O‚ÄôHara‚ÄëWild\nMonash + Nectric\n @mitchelloharawild\n @mitchelloharawild\n\nWelcome, who am I?\n\nüéì PhD candidate at Monash University\nüìä Data consulting and workshops at Nectric\nüìà Specialised in time series analysis\nüì¶ Develops R packages (fable, vitae, etc.)\nü§ñ DIYs IoT devices for home automation\nüå± Permaculturist (üêù, üê£, üçÑ, üåû)"
  },
  {
    "objectID": "slides/analysis/index.html#section-3",
    "href": "slides/analysis/index.html#section-3",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "You!\nUseR! attendee\n\nüôã Hi, who are you?\nHands up if‚Ä¶\n\n\nüßë‚Äçüíª You‚Äôve used R\nüìä You‚Äôve analysed data\nü´ß Used tidyverse packages (dplyr, ggplot2‚Ä¶)\nüìà You‚Äôve worked with time series data before\nüîÆ You‚Äôve produced a forecast before\nü§© You‚Äôve used fable!"
  },
  {
    "objectID": "slides/analysis/index.html#section-4",
    "href": "slides/analysis/index.html#section-4",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Tidy time series analysis\nThis workshop is about tidy time series in R.\n\nWe‚Äôll be using these packages!\n\n\n\n\n\n\n\n\n\nInstall them all with install.packages(\"fpp3\")"
  },
  {
    "objectID": "slides/analysis/index.html#section-5",
    "href": "slides/analysis/index.html#section-5",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Design of the forecast package\n\n\n\n\n\nForecasting individual time series\nRegular and infrequent observations (monthly, quarterly or annually)\nPoint forecasts and intervals\nConsistent with ts models\n\n\n\n\nDesign of the fable package\n\n\n\n\n\nForecasting many time series\nObservations at any time (sub-daily, irregular, monthly, etc.)\nForecast distributions\nConsistent with the tidyverse"
  },
  {
    "objectID": "slides/analysis/index.html#section-6",
    "href": "slides/analysis/index.html#section-6",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Tidy time series packages\n# Data manipulation\nlibrary(dplyr)\n# Plotting functions\nlibrary(ggplot2)\n# Time and date manipulation\nlibrary(lubridate)\n# Time series class\nlibrary(tsibble)\n# Tidy time series data\nlibrary(tsibbledata)\n# Time series graphics and statistics\nlibrary(feasts)\n# Forecasting functions\nlibrary(fable)\n\n\n# All of the above\nlibrary(fpp3)"
  },
  {
    "objectID": "slides/analysis/index.html#section-7",
    "href": "slides/analysis/index.html#section-7",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Time series data\n\nFour-yearly Olympic winning times\nAnnual Google profits\nQuarterly Australian beer production\nMonthly pharmaceutical subsidies\nWeekly retail sales\nDaily COVID-19 infections\nHourly electricity demand\nMinutely blood glucose measurements\nTime-stamped stock transaction data"
  },
  {
    "objectID": "slides/analysis/index.html#section-8",
    "href": "slides/analysis/index.html#section-8",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Time series data\nComes in all shapes and sizes!\nLike all data, we hope it‚Äôs tidy üßπ\n\n\n\n\n\n\n\nAll time series data contain‚Ä¶\n\n\n\nThe time of the observation (index)\nOne or more observations (measurements)\n\n\nSome datasets have identifying metadata,\n\nIdentifying variables for the series (key)"
  },
  {
    "objectID": "slides/analysis/index.html#section-9",
    "href": "slides/analysis/index.html#section-9",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "The tsibble data format\n\nA tsibble is a tibble for time series!\nThe quarterly visitors to Australia are found in the tourism dataset.\n\nlibrary(fpp3)\ntourism\n\n# A tsibble: 24,320 x 5 [1Q]\n# Key:       Region, State, Purpose [304]\n   Quarter Region   State           Purpose  Trips\n     &lt;qtr&gt; &lt;chr&gt;    &lt;chr&gt;           &lt;chr&gt;    &lt;dbl&gt;\n 1 1998 Q1 Adelaide South Australia Business  135.\n 2 1998 Q2 Adelaide South Australia Business  110.\n 3 1998 Q3 Adelaide South Australia Business  166.\n 4 1998 Q4 Adelaide South Australia Business  127.\n 5 1999 Q1 Adelaide South Australia Business  137.\n 6 1999 Q2 Adelaide South Australia Business  200.\n 7 1999 Q3 Adelaide South Australia Business  169.\n 8 1999 Q4 Adelaide South Australia Business  134.\n 9 2000 Q1 Adelaide South Australia Business  154.\n10 2000 Q2 Adelaide South Australia Business  169.\n# ‚Ñπ 24,310 more rows"
  },
  {
    "objectID": "slides/analysis/index.html#section-10",
    "href": "slides/analysis/index.html#section-10",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "# A tibble: 24,320 √ó 5\n   Quarter Region   State           Purpose  Trips\n     &lt;qtr&gt; &lt;chr&gt;    &lt;chr&gt;           &lt;chr&gt;    &lt;dbl&gt;\n 1 1998 Q1 Adelaide South Australia Business  135.\n 2 1998 Q2 Adelaide South Australia Business  110.\n 3 1998 Q3 Adelaide South Australia Business  166.\n 4 1998 Q4 Adelaide South Australia Business  127.\n 5 1999 Q1 Adelaide South Australia Business  137.\n 6 1999 Q2 Adelaide South Australia Business  200.\n 7 1999 Q3 Adelaide South Australia Business  169.\n 8 1999 Q4 Adelaide South Australia Business  134.\n 9 2000 Q1 Adelaide South Australia Business  154.\n10 2000 Q2 Adelaide South Australia Business  169.\n# ‚Ñπ 24,310 more rows\n\n\n\n\n\n\n\n\nColumn types\n\n\nIn this dataset, the column types are:\n\nindex variable: Quarter\nkey variable(s): Region, State, and Purpose\nmeasured variable(s): Trips"
  },
  {
    "objectID": "slides/analysis/index.html#section-11",
    "href": "slides/analysis/index.html#section-11",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "pedestrian\n\n\n\n# A tibble: 66,037 √ó 5\n   Sensor         Date_Time           Date        Time Count\n   &lt;chr&gt;          &lt;dttm&gt;              &lt;date&gt;     &lt;int&gt; &lt;int&gt;\n 1 Birrarung Marr 2015-01-01 00:00:00 2015-01-01     0  1630\n 2 Birrarung Marr 2015-01-01 01:00:00 2015-01-01     1   826\n 3 Birrarung Marr 2015-01-01 02:00:00 2015-01-01     2   567\n 4 Birrarung Marr 2015-01-01 03:00:00 2015-01-01     3   264\n 5 Birrarung Marr 2015-01-01 04:00:00 2015-01-01     4   139\n 6 Birrarung Marr 2015-01-01 05:00:00 2015-01-01     5    77\n 7 Birrarung Marr 2015-01-01 06:00:00 2015-01-01     6    44\n 8 Birrarung Marr 2015-01-01 07:00:00 2015-01-01     7    56\n 9 Birrarung Marr 2015-01-01 08:00:00 2015-01-01     8   113\n10 Birrarung Marr 2015-01-01 09:00:00 2015-01-01     9   166\n# ‚Ñπ 66,027 more rows\n\n\n\n\n\n\n\n\nExercise 1\n\n\nIn this dataset, which columns are:\n\nindex variable(s)?\nkey variable(s)?\nmeasured variable(s)?"
  },
  {
    "objectID": "slides/analysis/index.html#section-12",
    "href": "slides/analysis/index.html#section-12",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Our first tsibble\nA tsibble is a time series tibble.\nIt is created with as_tsibble().\n\ntourism |&gt; \n  as_tsibble(\n    key = c(Region, State, Purpose),\n    index = Quarter\n  )\n\n# A tsibble: 24,320 x 5 [1Q]\n# Key:       Region, State, Purpose [304]\n   Quarter Region   State           Purpose  Trips\n     &lt;qtr&gt; &lt;chr&gt;    &lt;chr&gt;           &lt;chr&gt;    &lt;dbl&gt;\n 1 1998 Q1 Adelaide South Australia Business  135.\n 2 1998 Q2 Adelaide South Australia Business  110.\n 3 1998 Q3 Adelaide South Australia Business  166.\n 4 1998 Q4 Adelaide South Australia Business  127.\n 5 1999 Q1 Adelaide South Australia Business  137.\n 6 1999 Q2 Adelaide South Australia Business  200.\n 7 1999 Q3 Adelaide South Australia Business  169.\n 8 1999 Q4 Adelaide South Australia Business  134.\n 9 2000 Q1 Adelaide South Australia Business  154.\n10 2000 Q2 Adelaide South Australia Business  169.\n# ‚Ñπ 24,310 more rows"
  },
  {
    "objectID": "slides/analysis/index.html#section-13",
    "href": "slides/analysis/index.html#section-13",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Our first tsibble\n\n\n\n\n\n\nExercise 2\n\n\nIdentify the index and key variables of the aus_accommodation dataset.\nThen use as_tsibble() to convert it into a tsibble.\n\nlibrary(fpp3)\nread.csv(\n  \"https://workshop.nectric.com.au/user2024/data/aus_accommodation.csv\"\n)"
  },
  {
    "objectID": "slides/analysis/index.html#section-14",
    "href": "slides/analysis/index.html#section-14",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Representing time (the index)\nTime is surprisingly tricky to represent!\n\nfrequency\ngranularity\ntime zones\ncalendars\nleap years (and seconds?!)\nholidays\ncivil/absolute time\ntime periods"
  },
  {
    "objectID": "slides/analysis/index.html#section-15",
    "href": "slides/analysis/index.html#section-15",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Representing time (the index)\nCommon time index variables can be created with these functions:\n\n\n\n\n\nGranularity\nFunction\n\n\n\n\nAnnual\nstart:end\n\n\nQuarterly\nyearquarter()\n\n\nMonthly\nyearmonth()\n\n\nWeekly\nyearweek()\n\n\nDaily\nas_date(), ymd()\n\n\nSub-daily\nas_datetime()"
  },
  {
    "objectID": "slides/analysis/index.html#section-16",
    "href": "slides/analysis/index.html#section-16",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Creating a tsibble\n\nTidy the data into a long format\nAppropriately class the time variable\nConvert to tsibble with as_tibble(), identifying the index and key variable(s).\n\n\n\n\n\n\n\nFollow along\n\n\nLet‚Äôs convert the tourism dataset into a tsibble.\n\nlibrary(fpp3)\nread.csv(\n  \"https://workshop.nectric.com.au/user2024/data/tourism.csv\"\n)"
  },
  {
    "objectID": "slides/analysis/index.html#section-17",
    "href": "slides/analysis/index.html#section-17",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Creating a tsibble\n\nTidy the data into a long format\nAppropriately class the time variable\nConvert to tsibble with as_tibble(), identifying the index and key variable(s).\n\n\n\n\n\n\n\nExercise 3\n\n\nRedo the previous exercise, but this time use the appropriate time class for the index variable.\nYou should see the frequency of the tsibble matches the quarterly frequency of the measurements."
  },
  {
    "objectID": "slides/analysis/index.html#section-18",
    "href": "slides/analysis/index.html#section-18",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Manipulating time series data\nTidy time series data uses tidyverse tools!\n\n\n\n\n\n\nExercise 4\n\n\nTry calculating the total tourists visiting Victoria from the tourism dataset.\nHint: use filter() to keep only visitors to ‚ÄúVictoria‚Äù, then summarise() to calculate the total trips."
  },
  {
    "objectID": "slides/analysis/index.html#section-19",
    "href": "slides/analysis/index.html#section-19",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Manipulating time series data\nHowever there are some differences when working with time‚Ä¶\nThe time index is always preserved (implicit group_by()).\n\n\n\n\n\n\nGrouping across time\n\n\nSometimes you want to summarise over time.\nSummarising over all of time is no longer a time series, so first convert to a tibble with as_tibble().\nTo re-index by a new variable, use index_by()."
  },
  {
    "objectID": "slides/analysis/index.html#section-20",
    "href": "slides/analysis/index.html#section-20",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Visualising time series\nTime series visualisation helps us identify time series patterns.\nThese patterns include:\n\ntrends\nseasonalities\ncycles\ncovariates\nevents\n\nThey also help identify anomalies/outliers.\n\n:::"
  },
  {
    "objectID": "slides/analysis/index.html#section-21",
    "href": "slides/analysis/index.html#section-21",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Time plots\n\n\nThe most common time series graphic is the ‚Äútime plot‚Äù, created with autoplot().\n\npbs_scripts &lt;- PBS |&gt;\n  summarise(Scripts = sum(Scripts))\npbs_scripts |&gt;\n  autoplot(Scripts)\n\n\n\n\n\n\n\n\n\n\n\n\n:::"
  },
  {
    "objectID": "slides/analysis/index.html#section-22",
    "href": "slides/analysis/index.html#section-22",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Seasonal plots\n\n\nThe gg_season() plots help identify peaks and troughs in seasonal patterns.\n\npbs_scripts |&gt;\n  gg_season(Scripts)\n\n\n\n\n\n\n\n\n\n\n\n\n:::"
  },
  {
    "objectID": "slides/analysis/index.html#section-23",
    "href": "slides/analysis/index.html#section-23",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Seasonal sub-series plots\n\n\nThe gg_subseries() plots help identify changes in seasonal patterns.\n\npbs_scripts |&gt;\n  gg_subseries(Scripts)\n\n\n\n\n\n\n\n\n\n\n\n\n:::"
  },
  {
    "objectID": "slides/analysis/index.html#section-24",
    "href": "slides/analysis/index.html#section-24",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "ACF plots\n\n\nThe ACF() |&gt; autoplot() plots show autocorrelations, helping to identify trends, seasons and cycles.\n\npbs_scripts |&gt;\n  ACF(Scripts) |&gt; \n  autoplot()\n\n\n\n\n\n\n\n\n\n\n\n\n:::"
  },
  {
    "objectID": "slides/analysis/index.html#section-25",
    "href": "slides/analysis/index.html#section-25",
    "title": "Tidy time series & forecasting in R",
    "section": "",
    "text": "Visualising time series\n\n\n\n\n\n\nExercise 5\n\n\nVisualise and describe the temporal patterns of visitors to Victoria in the tourism dataset.\nHere‚Äôs some code to get you started:\n\nvic_tourism &lt;- tourism |&gt; \n  filter(State == \"Victoria\") |&gt; \n  summarise(Trips = sum(Trips))\nvic_tourism |&gt; \n  autoplot(Trips)"
  },
  {
    "objectID": "slides/analysis/index.html#seasonal-or-cyclical",
    "href": "slides/analysis/index.html#seasonal-or-cyclical",
    "title": "Tidy time series & forecasting in R",
    "section": "Seasonal or Cyclical?",
    "text": "Seasonal or Cyclical?\nThese common patterns are commonly confused, can you tell them apart?\n\n\n\n\n\n\nWhat‚Äôs the difference?\n\n\nSeasonal patterns have‚Ä¶\n\nConsistent and predictable shape,\nRepeats with a fixed time period\n\nCyclical patterns have‚Ä¶\n\nInconsistent shape and amplitude,\nRepeats with a variable time period"
  },
  {
    "objectID": "slides/analysis/index.html#seasonal-or-cyclical-1",
    "href": "slides/analysis/index.html#seasonal-or-cyclical-1",
    "title": "Tidy time series & forecasting in R",
    "section": "Seasonal or Cyclical?",
    "text": "Seasonal or Cyclical?\nThese common patterns are commonly confused, can you tell them apart?"
  },
  {
    "objectID": "slides/analysis/index.html#seasonal-or-cyclical-2",
    "href": "slides/analysis/index.html#seasonal-or-cyclical-2",
    "title": "Tidy time series & forecasting in R",
    "section": "Seasonal or Cyclical?",
    "text": "Seasonal or Cyclical?\nThese common patterns are commonly confused, can you tell them apart?"
  },
  {
    "objectID": "slides/analysis/index.html#seasonal-or-cyclical-3",
    "href": "slides/analysis/index.html#seasonal-or-cyclical-3",
    "title": "Tidy time series & forecasting in R",
    "section": "Seasonal or Cyclical?",
    "text": "Seasonal or Cyclical?\nThese common patterns are commonly confused, can you tell them apart?"
  },
  {
    "objectID": "slides/analysis/index.html#seasonal-or-cyclical-4",
    "href": "slides/analysis/index.html#seasonal-or-cyclical-4",
    "title": "Tidy time series & forecasting in R",
    "section": "Seasonal or Cyclical?",
    "text": "Seasonal or Cyclical?\nThese common patterns are commonly confused, can you tell them apart?"
  },
  {
    "objectID": "slides/analysis/index.html#time-for-a-break",
    "href": "slides/analysis/index.html#time-for-a-break",
    "title": "Tidy time series & forecasting in R",
    "section": "‚è∞ Time for a break!",
    "text": "‚è∞ Time for a break!\n\n\n\n\n\n\n\n\nUp next‚Ä¶\n\n\n\nSimplifying patterns with transformations,\nSpecifying time series models,\nTraining models on data,\nForecasting the future!\n\n\n\n\n\n\n\n\n\n\n\nUseful links\n\n\n social.mitchelloharawild.com\n workshop.nectric.com.au/user2024/\n mitchelloharawild/workshop-fable-user2024"
  },
  {
    "objectID": "slides/analysis/index.html#unsplash-credits",
    "href": "slides/analysis/index.html#unsplash-credits",
    "title": "Tidy time series & forecasting in R",
    "section": "Unsplash credits",
    "text": "Unsplash credits\n\n\n\n\n\n\n\nThanks to these Unsplash contributors for their photos\n\n\n\n\n\nSander Weeteling: Photo\nBalint Mendlik: Photo\nJohn Fowler: Taken near sunset at White Sands National Monumen‚Ä¶\nDavid Pisnoy: Photo\nChris Lee: Behind the leaves.\nJon Tyson: Photo\nRandy Fath: Photo\nNathan Dumlao: Photo\nSander Weeteling: Photo"
  }
]